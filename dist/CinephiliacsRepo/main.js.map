{"version":3,"sources":["./src/app/user/user.component.html","./src/app/user/user.component.ts","./src/app/interceptor.service.ts","./src/app/home/home.component.html","./src/app/home/home.component.ts","./src/environments/environment.ts","./src/app/http.service.ts","./src/app/discussion/discussion.component.html","./src/app/discussion/discussion.component.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/profile/profile.component.html","./src/app/profile/profile.component.ts","./src/app/app.module.ts","./src/app/auth.service.ts","./src/app/logger.service.ts","./src/app/login.service.ts","./src/app/url.service.ts","./src/app/all-users/all-users.component.html","./src/app/all-users/all-users.component.ts","./src/app/list/list.component.ts","./src/app/list/list.component.html","./src/app/app-routing.module.ts","./src/app/movie/movie.component.html","./src/app/movie/movie.component.ts","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/user.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["<div *ngIf=\"userName\">\r\n  <h1 class=\"left\">{{userName}}'s Profile</h1>\r\n\r\n  <div class=\"leftmovie\">\r\n    <h3>Favorite Movies</h3>\r\n    <span *ngIf=\"moviesAreLoaded; then thenMBlock else elseMBlock\"></span>\r\n    <ng-template #thenMBlock>\r\n      <div *ngIf=\"userMovies.length\">\r\n        <ul class=\"movies\">\r\n          <li *ngFor=\"let movie of userMovies\">\r\n            <div class=\"image\">\r\n                <img src=\"{{movie.Poster}}\" routerLink=\"/movie/{{movie.imdbID}}\" alt=\"Movie Poster\">\r\n            </div>\r\n            <p class=\"name\">{{ movie.Title }}</p>\r\n            <p class=\"year\">{{ movie.Year }}<span *ngIf=\"movie.Year.substring(movie.Year.length - 1)==''\">present</span></p>\r\n            <p class=\"id\">{{ movie.imdbID }}</p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div *ngIf=\"!userMovies.length\">\r\n        <h4 class=\"missing\">No Favorited Movies</h4>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #elseMBlock>\r\n      <h4>Loading Movies . . .</h4>\r\n    </ng-template>\r\n  </div>\r\n\r\n  <div class=\"left\">\r\n    <h3>Reviews</h3>\r\n    <div *ngIf=\"reviewsAreLoaded; then thenRBlock else elseRBlock\"></div>\r\n    <ng-template #thenRBlock>\r\n      <div *ngIf=\"userReviews.length\">\r\n        <ul class=\"reviews\">\r\n          <li *ngFor=\"let review of userReviews\">\r\n            <p class=\"rating\">{{ review.rating}}</p>\r\n            <a routerLink =\"/user/{{review.username}}\" class=\"username\">{{ review.username}}</a>\r\n            <p >{{ review.text}}</p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div *ngIf=\"!userReviews.length\">\r\n        <h4 class=\"missing\">No Reviews</h4>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #elseRBlock>\r\n      <h4>Loading Reviews . . .</h4>\r\n    </ng-template>\r\n\r\n    <h3>Discussions</h3>\r\n    <div *ngIf=\"discussionsAreLoaded; then thenDBlock else elseDBlock\"></div>\r\n    <ng-template #thenDBlock>\r\n      <div *ngIf=\"userDiscussions.length\">\r\n        <ul class=\"discussions\">\r\n          <li *ngFor=\"let discussion of userDiscussions\">\r\n            <a routerLink=\"/user/{{discussion.username}}\" class=\"username\">{{ discussion.username }}</a>\r\n            <p *ngIf=\"discussion.topic != 'None'\" class=\"topic\">Topic: {{ discussion.topic}}</p>\r\n            <div routerLink=\"/discussion/{{discussion.discussionid}}\" class=\"discussionsubject\">{{ discussion.subject}}</div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div *ngIf=\"!userDiscussions.length\">\r\n        <h4 class=\"missing\">No Discussions</h4>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #elseDBlock>\r\n      <h4>Loading Discussions . . .</h4>\r\n    </ng-template>\r\n\r\n    <h3>Comments</h3>\r\n    <div *ngIf=\"commentsAreLoaded; then thenCBlock else elseCBlock\"></div>\r\n    <ng-template #thenCBlock>\r\n      <div *ngIf=\"userComments.length\">\r\n        <ul class=\"comments\">\r\n          <li *ngFor=\"let comment of userComments\">\r\n            <div  class=\"spoilerCover\" *ngIf=\"comment.isspoiler && !spoilersShown()\">\r\n              <button (click)=\"showSpoilers()\">Show Spoilers</button>\r\n            </div>\r\n            <div class=\"commentContent\" *ngIf=\"!comment.isspoiler || spoilersShown()\">\r\n              <a routerLink=\"/user/{{comment.username}}\" class=\"username\">{{ comment.username }}</a>\r\n              <div routerLink=\"/discussion/{{comment.discussionid}}\" class=\"commenttext\">{{comment.text}}</div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div *ngIf=\"!userComments.length\">\r\n        <h4 class=\"missing\">No Comments</h4>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template #elseCBlock>\r\n      <h4>Loading Comments . . .</h4>\r\n    </ng-template>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Review, Discussion, Comment } from '../models';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { LoginService } from '../login.service';\r\nimport { HttpService } from '../http.service';\r\nimport { LoggerService } from '../logger.service';\r\n\r\n@Component({\r\n  selector: 'app-user',\r\n  templateUrl: './user.component.html',\r\n  styleUrls: ['./user.component.scss']\r\n})\r\nexport class UserComponent implements OnInit {\r\n  userName: string = \"\";\r\n\r\n  moviesAreLoaded: boolean = false;\r\n  reviewsAreLoaded: boolean = false;\r\n  discussionsAreLoaded: boolean = false;\r\n  commentsAreLoaded: boolean = false;\r\n\r\n  userMovieNames: string[] = [];\r\n  userMovies: any[] = [];\r\n  userReviews: Review[] = [];\r\n  userDiscussions: Discussion[] = [];\r\n  userComments: Comment[] = [];\r\n\r\n  displaySpoilers: any = false;\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n    private router: ActivatedRoute, private _http: HttpService, private _login: LoginService,) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.userName = this.router.snapshot.params.username;\r\n\r\n    this._login.getUserMovies(this.userName).subscribe(data => {\r\n      this.userMovieNames = data;\r\n\r\n      if (this.userMovieNames) {\r\n        this.userMovieNames.forEach(movieName => {\r\n          // Get the Movie information for each favorited movie, for the poster image.\r\n          this._http.getMovie(movieName).subscribe(movieData => {\r\n            this.userMovies.push(movieData);\r\n          });\r\n        });\r\n      }\r\n      this.moviesAreLoaded = true;\r\n    });\r\n\r\n    this._login.getUserDiscussions(this.userName).subscribe(data => {\r\n      if (data != null) {\r\n        this.userDiscussions = data;\r\n      }\r\n      this.discussionsAreLoaded = true;\r\n    });\r\n\r\n    this._login.getUserComments(this.userName).subscribe(data => {\r\n      if (data != null) {\r\n        this.userComments = data;\r\n      }\r\n      this.commentsAreLoaded = true;\r\n    });\r\n\r\n    this._login.getUserReviews(this.userName).subscribe(data => {\r\n      if (data != null) {\r\n        this.userReviews = data;\r\n      }\r\n      this.reviewsAreLoaded = true;\r\n    });\r\n  }\r\n\r\n  moviesLoaded() {\r\n    this.moviesAreLoaded = true;\r\n    this.logger.log(\"\", \"movies are loaded\");\r\n  }\r\n  reviewsLoaded() {\r\n    this.reviewsAreLoaded = true;\r\n    this.logger.log(\"\", \"reviews are loaded\");\r\n  }\r\n  discussionsLoaded() {\r\n    this.discussionsAreLoaded = true;\r\n    this.logger.log(\"\", \"discussionsAreLoaded\");\r\n  }\r\n  commentsLoaded() {\r\n    this.commentsAreLoaded = true;\r\n    this.logger.log(\"\", \"commentsAreLoaded\");\r\n  }\r\n\r\n  getUsername() {\r\n    this.logger.log(\"\", \"username\" + this.userName);\r\n    return this.userName;\r\n  }\r\n\r\n  showSpoilers() {\r\n    this.displaySpoilers = true;\r\n    this.logger.log(\"\", this.displaySpoilers);\r\n  }\r\n\r\n  spoilersShown() {\r\n    return this.displaySpoilers;\r\n  }\r\n\r\n}\r\n","// from: https://medium.com/swlh/using-auth0-to-secure-your-angular-application-and-access-your-asp-net-core-api-1947b9389f4f\r\nimport { Injectable } from '@angular/core';\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from '@angular/common/http';\r\nimport { AuthService } from './auth.service';\r\nimport { Observable, of, throwError } from 'rxjs';\r\nimport { mergeMap, catchError } from 'rxjs/operators';\r\nimport { LoggerService } from './logger.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n// injects the token automatically in the request and passes it along\r\n// only injects the request if user is currenly loggedin\r\nexport class InterceptorService implements HttpInterceptor {\r\n  loggedIn: boolean;\r\n\r\n  constructor(private auth: AuthService, private logger: LoggerService) {\r\n    auth.userProfile$.subscribe((reply) => {\r\n      this.logger.log(\"in interceptor\", reply);\r\n      this.loggedIn = reply;\r\n    });\r\n  }\r\n\r\n  // runs on every request being made\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    if (this.loggedIn) {\r\n      this.logger.log(\"loggedin into interceptor\", \"\");\r\n      return this.auth.getTokenSilently$().pipe(\r\n        mergeMap(token => {\r\n          const tokenReq = req.clone({\r\n            setHeaders: { Authorization: `Bearer ${token}` }\r\n          });\r\n          return next.handle(tokenReq);\r\n        }),\r\n        catchError(err => {\r\n          this.logger.error(\"injector error\", \"\");\r\n          return throwError(err);\r\n        })\r\n      );\r\n    } else {\r\n      this.logger.log(\"not loggedin into interceptor\", \"\");\r\n      return next.handle(req);\r\n    }\r\n  }\r\n}","<div *ngIf=\"currentUser.username\" class=\"right\">\r\n  <button (click)=\"logout()\">Log Out</button><br>\r\n</div>\r\n\r\n<h1>Welcome <span *ngIf=\"currentUser.username\">{{ currentUser.username }}</span></h1>\r\n\r\n<div *ngIf=\"currentUser.username; then thenBlock else elseBlock\"></div>\r\n<ng-template #thenBlock>\r\n  <div class=\"container\">\r\n  </div>\r\n  <app-profile [currentUser]=\"currentUser\"></app-profile>\r\n</ng-template>\r\n<ng-template #elseBlock>\r\n  <div class=\"left\">\r\n    <p class=\"about\">Do you like movies and want to find reviews for your potential next watch or analyze your favorite films with other fans? If so, Cinephiliacs is the perfect application for you. Find information and user generated reviews about films or participate in discussions centered around your favorite, or least favorite, films. You can even follow individual movies to stay up to date on the discussions that have happened while you were away.</p>\r\n  </div>\r\n  <div class=\"right\">\r\n    <app-login [(currentUser)]=\"currentUser\"></app-login>\r\n  </div>\r\n</ng-template>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { LoggerService } from '../logger.service';\r\nimport { User } from '../models'\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  currentUser: User = {\r\n    username: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    permissions: 1\r\n  }\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    let userData = localStorage.getItem(\"loggedin\");\r\n    if (userData != null) {\r\n      this.currentUser = JSON.parse(userData);\r\n    }\r\n  }\r\n\r\n  getCurrentUser() {\r\n    this.logger.log(\"\", this.currentUser);\r\n    return this.currentUser.username;\r\n  }\r\n  getName() {\r\n    this.logger.log(\"\", this.currentUser.firstname);\r\n    return this.currentUser.firstname;\r\n  }\r\n  getEmail() {\r\n    this.logger.log(\"\", this.currentUser.email);\r\n    return this.currentUser.email;\r\n  }\r\n  getPermissions() {\r\n    this.logger.log(\"\", this.currentUser.permissions);\r\n    return this.currentUser.permissions;\r\n  }\r\n\r\n  logout() {\r\n    this.currentUser.username = \"\";\r\n    this.currentUser.firstname = \"\";\r\n    this.currentUser.lastname = \"\";\r\n    this.currentUser.email = \"\";\r\n    localStorage.clear();\r\n  }\r\n\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LoggerService } from './logger.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HttpService {\r\n\r\n  connectionString: string = \"https://movie-database-imdb-alternative.p.rapidapi.com\";\r\n  apiKey: string = \"f6d24cec46msh55a535ae1cf36d0p1bf4bcjsnd49b624447d2\";\r\n\r\n  constructor(private http: HttpClient,\r\n    private logger: LoggerService,\r\n  ) {\r\n\r\n  }\r\n\r\n  getMovies(searchTerm: string, pageNum: number) {\r\n    return this.http.get(\"https://movie-database-imdb-alternative.p.rapidapi.com/?rapidapi-key=f6d24cec46msh55a535ae1cf36d0p1bf4bcjsnd49b624447d2&s=\" + searchTerm + \"&r=json&page=\" + pageNum);\r\n    //return this.http.get('https://api.openbrewerydb.org/breweries')\r\n    //COME ON WORK\r\n  }\r\n\r\n  getMovie(id: string) {\r\n    return this.http.get(\"https://movie-database-imdb-alternative.p.rapidapi.com?rapidapi-key=f6d24cec46msh55a535ae1cf36d0p1bf4bcjsnd49b624447d2&i=\" + id + \"&r=json\");\r\n  }\r\n\r\n  getConnection() {\r\n    this.logger.log(\"\", this.connectionString);\r\n    return this.connectionString;\r\n  }\r\n\r\n  getAPIKey() {\r\n    this.logger.log(\"\", this.connectionString);\r\n    return this.apiKey;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","<h1>{{subject}}</h1>\r\n\r\n<div *ngIf=\"comments\">\r\n    <ul>\r\n        <li *ngFor=\"let comment of comments\">\r\n            <div  class=\"spoilerCover\" *ngIf=\"comment.isspoiler && !spoilersShown()\">\r\n                <button (click)=\"showSpoilers()\">Show Spoilers</button>\r\n            </div>\r\n            <div class=\"commentContent\" *ngIf=\"!comment.isspoiler || spoilersShown()\">\r\n                <a routerLink=\"/user/{{comment.username}}\" class=\"username\">{{ comment.username }}</a>\r\n                <div class=\"commenttext\">{{comment.text}}</div>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n<div id=\"input\">\r\n    <h3>New Comment</h3>\r\n    <form>\r\n        <input type=\"text\" placeholder=\"Comment\" id=\"comment\" [(ngModel)]=\"newComment.text\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n        <button (click)=\"postComment()\">Post Comment</button>\r\n        <input type=\"checkbox\" id=\"spoiler\" [(ngModel)]=\"newComment.isspoiler\" [ngModelOptions]=\"{standalone: true}\">\r\n        <label>Spoiler</label>\r\n    </form>\r\n</div>","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { LoggerService } from '../logger.service';\r\nimport { LoginService } from '../login.service';\r\n\r\n@Component({\r\n  selector: 'app-discussion',\r\n  templateUrl: './discussion.component.html',\r\n  styleUrls: ['./discussion.component.scss']\r\n})\r\nexport class DiscussionComponent implements OnInit {\r\n\r\n  comments: any;\r\n  disscussionID: string = \"\";\r\n  discussion: any;\r\n  subject: any;\r\n  displaySpoilers: any = false;\r\n  user: any;\r\n\r\n  newComment: any = {\r\n    discussionid: 0,\r\n    username: \"\",\r\n    text: \"\",\r\n    isspoiler: false\r\n  };\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n    private _login: LoginService, private router: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.disscussionID = this.router.snapshot.params.id;\r\n    this.newComment.discussionid = this.router.snapshot.params.id;\r\n    this.displayInput();\r\n    this.getComments();\r\n    this._login.getCurrentDiscussion(this.disscussionID).subscribe(data => {\r\n      this.logger.log(\"\", data);\r\n      this.discussion = data;\r\n      this.subject = this.discussion.subject;\r\n    });\r\n  }\r\n\r\n  async getComments() {\r\n    setTimeout(() => {\r\n      this._login.getDiscussionComments(this.disscussionID).subscribe(data => {\r\n        this.logger.log(\"\", data);\r\n        this.comments = data;\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  displayInput() {\r\n    if (localStorage.getItem(\"loggedin\")) {\r\n      this.user = localStorage.getItem(\"loggedin\");\r\n      this.newComment.username = JSON.parse(this.user).username;\r\n      this.logger.log(\"\", \"User Logged In\");\r\n    } else {\r\n      this.logger.log(\"\", \"Hide inputs\");\r\n    }\r\n  }\r\n\r\n  getDicussionID() {\r\n    this.logger.log(\"\", \"Dicussion ID \" + this.disscussionID);\r\n    return this.disscussionID;\r\n  }\r\n\r\n  postComment() {\r\n    if (this.isEmpty(this.newComment.text)) {\r\n      this.logger.log(\"\", \"Please enter a comment\");\r\n    } else {\r\n      this._login.postComment(this.newComment).subscribe(data => this.logger.log(\"\", data));\r\n      this.getComments();\r\n    }\r\n    this.logger.log(\"\", this.newComment);\r\n  }\r\n\r\n  showSpoilers() {\r\n    this.displaySpoilers = true;\r\n    this.logger.log(\"\", this.displaySpoilers);\r\n  }\r\n\r\n  spoilersShown() {\r\n    return this.displaySpoilers;\r\n  }\r\n\r\n  isEmpty(testSTR: string) {\r\n    return (testSTR == \"\");\r\n  }\r\n\r\n}","import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, FormsModule, Validators } from '@angular/forms';\r\nimport { AuthService } from './auth.service';\r\nimport { LoggerService } from './logger.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'my-app';\r\n  test: string = '';\r\n\r\n  headerSearch!: FormGroup;\r\n\r\n  // use this to know who the user is\r\n  authModel: any;\r\n  // use this to determine if user is an admin\r\n  isUserAdmin: boolean;\r\n  // use this to determine if user is logged in\r\n\r\n  constructor(public auth: AuthService, private logger: LoggerService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.headerSearch = new FormGroup({\r\n      headSearch: new FormControl('', Validators.minLength(2))\r\n    });\r\n    this.auth.userProfile$.subscribe(reply => {\r\n      this.logger.log(\"userprofile\", reply);\r\n    });\r\n    this.auth.authModel$.subscribe(reply => {\r\n      this.logger.log(\"authmodel\", reply);\r\n      this.authModel = reply;\r\n    });\r\n    this.auth.isAdmin$.subscribe(reply => {\r\n      this.logger.log(\"is admin\", reply);\r\n      this.isUserAdmin = reply;\r\n    });\r\n  }\r\n\r\n  reloadPage() {\r\n    this.logger.log(\"reloading\", \"\");\r\n    window.location.reload();\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.headerSearch.get('headSearch')!.value != \"\") {\r\n      let searchParam = JSON.stringify(this.headerSearch.get('headSearch')!.value).substring(1, JSON.stringify(this.headerSearch.get('headSearch')!.value).length - 1);\r\n      window.location.href = \"/list/\" + searchParam + \"/1\";\r\n    }\r\n  }\r\n\r\n  testLogin() {\r\n    this.auth.login();\r\n  }\r\n\r\n  testLogout() {\r\n    this.auth.logout();\r\n  }\r\n\r\n  testCode(num: Number) {\r\n    return num;\r\n  }\r\n}\r\n","<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\r\n<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->\r\n<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->\r\n<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->\r\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\r\n<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->\r\n<!-- * * * * * * * to get started with your project! * * * * * * * * -->\r\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\r\n\r\n<header>\r\n  <div class=\"container\">\r\n    <a href=\"#\" routerLink=\"/\" class=\"logo\"><img id=\"siteLogo\" src=\"/assets/Cinephiliacs-Logo.png\"\r\n        alt=\"Cinephiliacs Logo\" />Cinephiliacs</a>\r\n    <nav>\r\n      <ul>\r\n        <li class=\"search\">\r\n          <form [formGroup]=\"headerSearch\" (ngSubmit)=\"onSubmit()\">\r\n            <!-- svg source https://freesvg.org/vector-clip-art-of-minimal-design-search-icon -->\r\n            <svg xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:cc=\"http://creativecommons.org/ns#\"\r\n              xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n              xmlns=\"http://www.w3.org/2000/svg\" xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\r\n              xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\" width=\"25\" height=\"20\"\r\n              viewBox=\"0 0 55.770032 124.72441\" id=\"svg4983\" version=\"1.1\" inkscape:version=\"0.91 r13725\"\r\n              sodipodi:docname=\"Minimal Magnifying Glass.svg\">\r\n              <g inkscape:label=\"Layer 1\" inkscape:groupmode=\"layer\" id=\"layer1\"\r\n                transform=\"translate(64.082039,-216.03793)\">\r\n                <g id=\"g4288\" transform=\"matrix(12.843054,0,0,12.843054,-4352.973,-5791.3727)\" >\r\n                  <circle r=\"3.625\" cy=\"472.13062\" cx=\"335.03351\" id=\"path4284\" />\r\n                  <path sodipodi:nodetypes=\"cc\" inkscape:connector-curvature=\"0\" id=\"path4286\"\r\n                    d=\"m 337.9085,474.44313 2.90967,2.26732\" />\r\n                </g>\r\n              </g>\r\n            </svg>\r\n            <input type=\"text\" name=\"search\" [(ngModel)]=\"test\" placeholder=\"Search Movies\"\r\n              formControlName=\"headSearch\" />\r\n          </form>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\" routerLink=\"/\" class=\"profile\">\r\n            <!-- Free svg from https://freesvg.org/user-icon-silhouette -->\r\n            <svg xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:cc=\"http://creativecommons.org/ns#\"\r\n              xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:svg=\"http://www.w3.org/2000/svg\"\r\n              xmlns=\"http://www.w3.org/2000/svg\" xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\r\n              xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\" width=\"35\" height=\"40\"\r\n              viewBox=\"0 0 248.03149 248.03149\" id=\"svg4526\" version=\"1.1\" inkscape:version=\"0.91 r13725\"\r\n              sodipodi:docname=\"user.svg\">\r\n              <g inkscape:label=\"Laag 1\" inkscape:groupmode=\"layer\" id=\"layer1\" transform=\"translate(0,-804.33071)\">\r\n                <path d=\"m 76.42344,1042.717 c -2.2224,-0.2267 -4.7225,-0.6821 -5.5559,-1.012 -0.8334,-0.3299 -9.3384,-2.8569 -18.9001,-5.6157 -9.5617,-2.7588 -17.4523,-5.0834 -17.5347,-5.1657 -0.2391,-0.2392 2.2788,-42.51159 2.8639,-48.08136 2.2676,-21.58406 6.0483,-32.16101 14.8649,-41.58634 7.5909,-8.11487 14.9224,-11.77177 27.5448,-13.73911 5.5107,-0.85889 39.4433,-1.23111 47.6206,-0.52237 13.0001,1.12673 21.3056,3.10399 29.1231,6.93322 3.9457,1.93271 5.526,3.0883 9.1422,6.68524 9.4197,9.36932 13.7657,22.358 15.8544,47.38281 1.1656,13.96551 2.4884,42.59711 1.9903,43.07931 -0.9176,0.8884 -17.7367,5.5971 -23.3654,6.5414 -20.4406,3.4292 -70.2575,6.467 -83.6481,5.1006 z\"\r\n                  id=\"path4293-4\" inkscape:connector-curvature=\"0\" />\r\n                <ellipse id=\"path4295-9\" cx=\"106.96198\" cy=\"883.10352\" rx=\"40.658642\" ry=\"38.327599\" />\r\n              </g>\r\n            </svg>\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <button (click)=\"testLogin()\">Login</button>\r\n        </li>\r\n        <li>\r\n          <button (click)=\"testLogout()\">Logout</button>\r\n        </li>\r\n        <li>\r\n          <span>signedin? {{this.auth.loggedIn}}</span>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</header>\r\n<div class=\"play-container\">\r\n  <p></p>\r\n</div>\r\n<div class=\"container\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n","<div class=\"leftmovie\">\r\n  <h3>Movies</h3>\r\n  <div *ngIf=\"moviesAreLoaded; then thenMBlock else elseMBlock\"></div>\r\n  <ng-template #thenMBlock>\r\n    <div *ngIf=\"userMovies.length\">\r\n      <ul class=\"movies\">\r\n        <li *ngFor=\"let movie of userMovies\">\r\n          <div class=\"image\">\r\n              <img src=\"{{movie.Poster}}\" routerLink=\"/movie/{{movie.imdbID}}\" alt=\"Movie Poster\">\r\n          </div>\r\n          <p class=\"name\">{{ movie.Title }}</p>\r\n          <p class=\"year\">{{ movie.Year }}<span *ngIf=\"movie.Year.substring(movie.Year.length - 1)==''\">present</span></p>\r\n          <p class=\"id\">{{ movie.imdbID }}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div *ngIf=\"!userMovies.length\">\r\n      <h4 class=\"missing\">No Favorited Movies</h4>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template #elseMBlock>\r\n    <h4>Loading Movies . . .</h4>\r\n  </ng-template>\r\n</div>\r\n\r\n<div class=\"right\">\r\n  <form class=\"update\">\r\n    <h3>Your Info</h3>\r\n    <div class=\"container\" (ngSubmit)=\"updateUser()\">\r\n      <label for=\"uname\">Username</label>\r\n      <p>{{editedUser.username}}</p>\r\n      <input *ngIf=\"false\" type=\"text\" [(ngModel)]=\"editedUser.username\" [ngModelOptions]=\"{standalone: true}\" class=\"noneditable\" required><br>\r\n      <label for=\"uname\">First Name</label>\r\n      <p *ngIf=\"!userIsEditable\">{{editedUser.firstname}}</p>\r\n      <input *ngIf=\"userIsEditable\" type=\"text\" [(ngModel)]=\"editedUser.firstname\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n      <label for=\"uname\">Last Name</label>\r\n      <p *ngIf=\"!userIsEditable\">{{editedUser.lastname}}</p>\r\n      <input *ngIf=\"userIsEditable\" type=\"text\" [(ngModel)]=\"editedUser.lastname\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n      <label for=\"uname\">Email</label>\r\n      <p *ngIf=\"!userIsEditable\">{{editedUser.email}}</p>\r\n      <input *ngIf=\"userIsEditable\" type=\"text\" [(ngModel)]=\"editedUser.email\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n      <button *ngIf=\"!userIsEditable\" (click)=\"editUser()\">Edit Profile</button>\r\n      <button *ngIf=\"userIsEditable\" (click)=\"updateUser()\">Submit</button>\r\n      <a *ngIf=\"userIsEditable\" (click)=\"cancelUpdate()\">Cancel Changes</a>\r\n    </div>\r\n  </form>\r\n</div>\r\n\r\n<div class=\"left\">\r\n  <h3>Reviews</h3>\r\n  <div *ngIf=\"reviewsAreLoaded; then thenRBlock else elseRBlock\"></div>\r\n  <ng-template #thenRBlock>\r\n    <div *ngIf=\"userReviews.length\">\r\n      <ul class=\"reviews\">\r\n        <li *ngFor=\"let review of userReviews\">\r\n          <p class=\"rating\">{{ review.rating}}</p>\r\n          <a routerLink =\"/user/{{review.username}}\" class=\"username\">{{ review.username}}</a>\r\n          <p >{{ review.text}}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div *ngIf=\"!userReviews.length\">\r\n      <h4 class=\"missing\">No Reviews</h4>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template #elseRBlock>\r\n    <h4>Loading Reviews . . .</h4>\r\n  </ng-template>\r\n\r\n  <h3>Discussions</h3>\r\n  <div *ngIf=\"discussionsAreLoaded; then thenDBlock else elseDBlock\"></div>\r\n  <ng-template #thenDBlock>\r\n    <div *ngIf=\"userDiscussions.length\">\r\n      <ul class=\"discussions\">\r\n        <li *ngFor=\"let discussion of userDiscussions\">\r\n          <a routerLink=\"/user/{{discussion.username}}\" class=\"username\">{{ discussion.username }}</a>\r\n          <p *ngIf=\"discussion.topic != 'None'\" class=\"topic\">Topic: {{ discussion.topic}}</p>\r\n          <div routerLink=\"/discussion/{{discussion.discussionid}}\" class=\"discussionsubject\">{{ discussion.subject}}</div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div *ngIf=\"!userDiscussions.length\">\r\n      <h4 class=\"missing\">No Discussions</h4>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template #elseDBlock>\r\n    <h4>Loading Discussions . . .</h4>\r\n  </ng-template>\r\n\r\n  <h3>Comments</h3>\r\n  <div *ngIf=\"commentsAreLoaded; then thenCBlock else elseCBlock\"></div>\r\n  <ng-template #thenCBlock>\r\n    <div *ngIf=\"userComments.length\">\r\n      <ul class=\"comments\">\r\n        <li *ngFor=\"let comment of userComments\">\r\n          <div class=\"commentContent\">\r\n              <a routerLink=\"/user/{{comment.username}}\" class=\"username\">{{ comment.username }}</a>\r\n              <div routerLink=\"/discussion/{{comment.discussionid}}\" class=\"commenttext\">{{comment.text}}</div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div *ngIf=\"!userComments.length\">\r\n      <h4 class=\"missing\">No Comments</h4>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template #elseCBlock>\r\n    <h4>Loading Comments . . .</h4>\r\n  </ng-template>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { User, Review, Discussion, Comment } from '../models';\r\nimport { LoginService } from '../login.service';\r\nimport { HttpService } from '../http.service';\r\nimport { LoggerService } from '../logger.service';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  @Input() currentUser: User = {\r\n    username: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    permissions: 1\r\n  }\r\n\r\n  editedUser: User = {\r\n    username: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    permissions: 1\r\n  }\r\n\r\n  userIsEditable: boolean = false;\r\n  userIsUpdating: boolean = false;\r\n\r\n  moviesAreLoaded: boolean = false;\r\n  reviewsAreLoaded: boolean = false;\r\n  discussionsAreLoaded: boolean = false;\r\n  commentsAreLoaded: boolean = false;\r\n\r\n  userMovieNames: string[] = [];\r\n  userMovies: any[] = [];\r\n  userReviews: Review[] = [];\r\n  userDiscussions: Discussion[] = [];\r\n  userComments: Comment[] = [];\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n    private _http: HttpService, private _login: LoginService) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.editedUser.username = this.currentUser.username;\r\n    this.editedUser.firstname = this.currentUser.firstname;\r\n    this.editedUser.lastname = this.currentUser.lastname;\r\n    this.editedUser.email = this.currentUser.email;\r\n\r\n    this._login.getUserMovies(this.currentUser.username).subscribe(data => {\r\n      this.userMovieNames = data;\r\n\r\n      if (this.userMovieNames) {\r\n        this.userMovieNames.forEach(movieName => {\r\n          // Get the Movie information for each favorited movie, for the poster image.\r\n          this._http.getMovie(movieName).subscribe(movieData => {\r\n            this.userMovies.push(movieData);\r\n          });\r\n        });\r\n      }\r\n      this.moviesAreLoaded = true;\r\n    });\r\n\r\n    this._login.getUserDiscussions(this.currentUser.username).subscribe(data => {\r\n      if (data != null) {\r\n        this.userDiscussions = data;\r\n      }\r\n      this.discussionsAreLoaded = true;\r\n    });\r\n\r\n    this._login.getUserComments(this.currentUser.username).subscribe(data => {\r\n      if (data != null) {\r\n        this.userComments = data;\r\n      }\r\n      this.commentsAreLoaded = true;\r\n    });\r\n\r\n    this._login.getUserReviews(this.currentUser.username).subscribe(data => {\r\n      if (data != null) {\r\n        this.userReviews = data;\r\n      }\r\n      this.reviewsAreLoaded = true;\r\n    });\r\n  }\r\n\r\n  moviesLoaded() {\r\n    this.logger.log(\"\", this.moviesAreLoaded);\r\n    this.moviesAreLoaded = true;\r\n    return this.moviesAreLoaded;\r\n  }\r\n  reviewsLoaded() {\r\n    this.logger.log(\"\", this.reviewsAreLoaded);\r\n    this.reviewsAreLoaded = true;\r\n    return this.reviewsAreLoaded;\r\n  }\r\n  dicussionsLoaded() {\r\n    this.logger.log(\"\", this.discussionsAreLoaded);\r\n    this.discussionsAreLoaded = true;\r\n    return this.discussionsAreLoaded\r\n  }\r\n\r\n  commentsLoaded() {\r\n    this.logger.log(\"\", this.commentsAreLoaded);\r\n    this.commentsAreLoaded = true;\r\n    return this.commentsAreLoaded;\r\n  }\r\n\r\n\r\n  updateUser(): void {\r\n    if (this.userIsEditable) {\r\n      this.userIsUpdating = true;\r\n      this.userIsEditable = false;\r\n      this._login.postUpdateUser(this.currentUser.username, this.editedUser).subscribe(response => {\r\n        // Once the update request has processed, use an API call to get the updated user information\r\n        this._login.loginUser(this.currentUser.username).subscribe((data: User) => {\r\n          this.currentUser.firstname = data.firstname;\r\n          this.currentUser.lastname = data.lastname;\r\n          this.currentUser.email = data.email;\r\n          localStorage.setItem(\"loggedin\", JSON.stringify(this.currentUser));\r\n        });\r\n        this.userIsUpdating = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  cancelUpdate(): void {\r\n    this.editedUser.firstname = this.currentUser.firstname;\r\n    this.editedUser.lastname = this.currentUser.lastname;\r\n    this.editedUser.email = this.currentUser.email;\r\n    this.userIsEditable = false;\r\n  }\r\n\r\n  editUser(): void {\r\n    if (!this.userIsUpdating) {\r\n      this.userIsEditable = true;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { ListComponent } from './list/list.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { MovieComponent } from './movie/movie.component';\r\nimport { AllUsersComponent } from './all-users/all-users.component';\r\nimport { UserComponent } from './user/user.component';\r\nimport { DiscussionComponent } from './discussion/discussion.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { ProfileComponent } from './profile/profile.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent,\r\n    ListComponent,\r\n    MovieComponent,\r\n    AllUsersComponent,\r\n    UserComponent,\r\n    DiscussionComponent,\r\n    LoginComponent,\r\n    ProfileComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","// from: https://medium.com/swlh/using-auth0-to-secure-your-angular-application-and-access-your-asp-net-core-api-1947b9389f4f\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport createAuth0Client, { Auth0Client } from '@auth0/auth0-spa-js';\r\nimport { BehaviorSubject, combineLatest, from, Observable, of, Subject, throwError } from 'rxjs';\r\nimport { catchError, concatMap, shareReplay, tap } from 'rxjs/operators';\r\nimport { LoggerService } from './logger.service';\r\nimport { LoginService } from './login.service';\r\nimport { UrlService } from './url.service';\r\nimport { UserService } from './user.service';\r\n// import { UserService } from './user.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  // todo: change these to user model\r\n  public authModel$ = new Subject<any>();\r\n  public authModel = {};\r\n  public isAdmin$ = new Subject<boolean>();\r\n  public isAdmin = false;\r\n  public loading$ = new BehaviorSubject<boolean>(true);\r\n\r\n  // Create subject and public observable of user profile data\r\n  private userProfileSubject$ = new BehaviorSubject<any>(null);\r\n  userProfile$ = this.userProfileSubject$.asObservable();\r\n  // Create a local property for login status\r\n  loggedIn: boolean = null;\r\n  notLoading: boolean = null;\r\n\r\n\r\n  // Create an observable of Auth0 instance of client\r\n  auth0Client$ = (from(\r\n    createAuth0Client({\r\n      domain: 'cinephiliacs.us.auth0.com', // the account\r\n      client_id: 'uDzm9BWSa0J3ePufHnwOjxzKWO2hpW5P', // an application\r\n      redirect_uri: this.urlService.FrontendUrl, // angular deployment url\r\n      audience: 'https://cinephiliacs-api/' // an API\r\n    })\r\n  ) as Observable<Auth0Client>).pipe(\r\n    shareReplay(1), // Every subscription receives the same shared value\r\n    catchError(err => throwError(err))\r\n  );\r\n\r\n  // handling redirecting correctly on authentication client change\r\n  handleRedirectCallback$ = this.auth0Client$.pipe(\r\n    concatMap((client: Auth0Client) => from(client.handleRedirectCallback()))\r\n  );\r\n\r\n\r\n  // Define observables for SDK methods that return promises by default\r\n  // For each Auth0 SDK method, first ensure the client instance is ready\r\n  // concatMap: Using the client instance, call SDK method; SDK returns a promise\r\n  // from: Convert that resulting promise into an observable\r\n  isAuthenticated$ = this.auth0Client$.pipe(\r\n    concatMap((client: Auth0Client) => from(client.isAuthenticated())),\r\n    tap(res => {\r\n      this.loggedIn = res;\r\n      this.notLoading = true;\r\n      this.logger.log(\"isAuthenticated loggedin\", this.loggedIn);\r\n      this.logger.log(\"isAuthenticated notloading\", this.notLoading);\r\n      // this.loading$.next(false);\r\n    })\r\n  );\r\n  constructor(\r\n    private router: Router,\r\n    private urlService: UrlService,\r\n    private userService: UserService,\r\n    private logger: LoggerService,\r\n  ) {\r\n    // On initial load, check authentication state with authorization server\r\n    // Set up local auth streams if user is already authenticated\r\n    this.localAuthSetup();\r\n    // Handle redirect from Auth0 login\r\n    this.handleAuthCallback();\r\n  }\r\n\r\n  // get the token as an observable\r\n  // this should update automatically\r\n  getTokenSilently$(options?): Observable<string> {\r\n    return this.auth0Client$.pipe(\r\n      concatMap((client: Auth0Client) => from(client.getTokenSilently(options)))\r\n    );\r\n  }\r\n\r\n  // When calling, options can be passed if desired\r\n  // https://auth0.github.io/auth0-spa-js/classes/auth0client.html#getuser\r\n  getUser$(options?): Observable<any> {\r\n    return this.auth0Client$.pipe(\r\n      concatMap((client: Auth0Client) => from(client.getUser(options))),\r\n      tap(user => {\r\n        this.userProfileSubject$.next(user);\r\n      })\r\n    );\r\n  }\r\n\r\n  private localAuthSetup() {\r\n    // This should only be called on app initialization\r\n    // Set up local authentication streams\r\n    const checkAuth$ = this.isAuthenticated$.pipe(\r\n      concatMap((loggedIn: boolean) => {\r\n        if (loggedIn) {\r\n          this.logger.log(\"loggedIn in checkauth$\", this.loggedIn);\r\n          this.logger.log(\"notloading\", this.notLoading);\r\n          // If authenticated, get user and set in app\r\n          // NOTE: you could pass options here if needed\r\n          return this.getUser$();\r\n        }\r\n        // If not authenticated, return stream that emits 'false'\r\n        return of(loggedIn);\r\n      })\r\n    );\r\n\r\n    const temp = this.getTokenSilently$();\r\n    temp.subscribe(reply => {\r\n      this.logger.log(\"token\", reply);\r\n      // this.tryRetrieveUser();\r\n    });\r\n    this.userProfile$.subscribe(reply => {\r\n      this.logger.log(\"userprofile\", reply);\r\n      if (reply != null) {\r\n        this.tryRetrieveUser(reply.sub);\r\n      }\r\n    });\r\n    checkAuth$.subscribe((reply) => {\r\n      this.logger.log(\"in checkAuth$\", reply);\r\n      // this.tryRetrieveUser(reply.sub);\r\n    }, () => { }, () => {\r\n    });\r\n  }\r\n\r\n  // call the users api to get the current user\r\n  // call this when\r\n  private tryRetrieveUser(userid: string) {\r\n    this.userService.getUser(userid).then(reply => {\r\n      this.authModel$.next(reply);\r\n      if (reply.firstName == null && window.location.pathname != \"/register\") {\r\n        this.logger.log(\"new user\", \"\");\r\n        this.router.navigate([\"register\"]);\r\n      }\r\n      else {\r\n        this.isUserAdmin(userid);\r\n      }\r\n    }).catch(err => {\r\n      this.logger.error(\"in checkAuth$\", err);\r\n      this.isAdmin$.next(false);\r\n    });\r\n  }\r\n\r\n  // send a request to check if user is an admin\r\n  // if user isn't then set isadmin to false\r\n  private isUserAdmin(userid: string) {\r\n    this.userService.isAdmin(userid).then(reply => {\r\n      this.logger.log(\"isadmin\", reply);\r\n      this.isAdmin$.next(true);\r\n      this.isAdmin = reply;\r\n    }).catch(err => {\r\n      this.logger.error(\"isadmin\", err);\r\n      this.isAdmin$.next(false);\r\n      this.isAdmin = false;\r\n    });\r\n  }\r\n\r\n  login(redirectPath: string = '/') {\r\n    // A desired redirect path can be passed to login method\r\n    // (e.g., from a route guard)\r\n    this.logger.log(\"logging in auth\", \"\");\r\n    // Ensure Auth0 client instance exists\r\n    this.auth0Client$.subscribe((client: Auth0Client) => {\r\n      this.logger.log(\"auth0Client$\", client);\r\n      // Call method to log in\r\n      client.loginWithRedirect({\r\n        redirect_uri: `${window.location.origin}`,\r\n        appState: { target: redirectPath }\r\n      });\r\n    });\r\n  }\r\n\r\n  private handleAuthCallback() {\r\n    // Call when app reloads after user logs in with Auth0\r\n    const params = window.location.search;\r\n    if (params.includes('code=') && params.includes('state=')) {\r\n      let targetRoute: string; // Path to redirect to after login processsed\r\n      const authComplete$ = this.handleRedirectCallback$.pipe(\r\n        // Have client, now call method to handle auth callback redirect\r\n        tap(cbRes => {\r\n          // Get and set target redirect route from callback results\r\n          targetRoute = cbRes.appState && cbRes.appState.target ? cbRes.appState.target : '/';\r\n        }),\r\n        concatMap(() => {\r\n          // Redirect callback complete; get user and login status\r\n          return combineLatest([\r\n            this.getUser$(),\r\n            this.isAuthenticated$\r\n          ]);\r\n        })\r\n      );\r\n      // Subscribe to authentication completion observable\r\n      // Response will be an array of user and login status\r\n      authComplete$.subscribe(([user, loggedIn]) => {\r\n        this.logger.log(\"loggedIn in authcomplete\", this.loggedIn);\r\n        this.logger.log(\"notLoading\", this.notLoading);\r\n\r\n        // Redirect to target route after callback processing\r\n        this.router.navigate([targetRoute]);\r\n      });\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    // Ensure Auth0 client instance exists\r\n    this.auth0Client$.subscribe((client: Auth0Client) => {\r\n      // Call method to log out\r\n      client.logout({\r\n        client_id: 'uDzm9BWSa0J3ePufHnwOjxzKWO2hpW5P',\r\n        returnTo: `${window.location.origin}`\r\n      });\r\n    });\r\n  }\r\n}","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoggerService {\r\n\r\n  constructor() { }\r\n\r\n  log(subject: string, info: any) {\r\n    console.log(\"\", new Date() + \": \" + subject + \" - \" + info);\r\n  }\r\n\r\n  error(subject: string, info: any) {\r\n    console.error(new Date() + \": \" + subject + \" - \" + info);\r\n  }\r\n}\r\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpService } from './http.service';\r\nimport { AppComponent } from './app.component';\r\nimport { User, Review, Discussion, Comment } from './models';\r\nimport { LoggerService } from './logger.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoginService {\r\n\r\n  currentUser: string = \"\";\r\n  askingUser: string = \"\";\r\n  connection: string = \"\";\r\n  loggedIn: any;\r\n\r\n  baseURL: string = \"https://cinephiliacsapi.azurewebsites.net/\";\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n    private http: HttpClient) { }\r\n\r\n  createUser(newUser: string) {\r\n    return this.http.post(this.baseURL + \"user/\", newUser);\r\n  }\r\n\r\n  loginUser(userName: string) {\r\n    this.connection = this.baseURL + \"user/\" + userName;\r\n    this.logger.log(\"\", this.connection);\r\n    return this.http.get<User>(this.connection);\r\n  }\r\n\r\n  getURL() {\r\n    return this.baseURL;\r\n  }\r\n\r\n  getTopics() {\r\n    return this.http.get(this.baseURL + \"forum/topics\");\r\n  }\r\n\r\n\r\n  getDiscussion(movieId: String) {\r\n    return this.http.get(this.baseURL + \"forum/discussions/\" + movieId);\r\n  }\r\n\r\n  getReviews(movieId: String) {\r\n    return this.http.get(this.baseURL + \"movie/reviews/\" + movieId);\r\n  }\r\n\r\n  getReviewsPage(movieId: String, page: number, sortOrder: string) {\r\n    return this.http.get<Review[]>(this.baseURL + \"movie/reviews/\" + movieId + \"/\" + page + \"/\" + sortOrder);\r\n  }\r\n\r\n  submitDiscussion(discussion: any) {\r\n    return this.http.post(this.baseURL + \"forum/discussion\", discussion);\r\n  }\r\n\r\n  postMovieId(movieID: string) {\r\n    return this.http.post(this.baseURL + \"movie/\" + movieID, null);\r\n  }\r\n\r\n  postReview(sumbitReview: any) {\r\n    return this.http.post(this.baseURL + \"movie/review\", sumbitReview);\r\n  }\r\n\r\n  getUser(username: string) {\r\n    return this.http.get(this.baseURL + \"user/\" + username);\r\n  }\r\n\r\n  getConnection() {\r\n    this.logger.log(\"\", this.connection);\r\n    return this.connection;\r\n  }\r\n\r\n  getCurrentUser() {\r\n    this.logger.log(\"\", this.currentUser);\r\n    return this.currentUser;\r\n  }\r\n\r\n  getAskingUser() {\r\n    this.logger.log(\"\", this.askingUser);\r\n    return this.askingUser;\r\n  }\r\n\r\n  getUserReviews(username: string) {\r\n    return this.http.get<Review[]>(this.baseURL + \"user/reviews/\" + username);\r\n  }\r\n\r\n  getUserDiscussions(username: string) {\r\n    return this.http.get<Discussion[]>(this.baseURL + \"user/discussions/\" + username);\r\n  }\r\n\r\n  getUserMovies(username: string) {\r\n    return this.http.get<string[]>(this.baseURL + \"user/movies/\" + username);\r\n  }\r\n\r\n  getUserComments(username: string) {\r\n    return this.http.get<Comment[]>(this.baseURL + \"user/comments/\" + username);\r\n  }\r\n\r\n  postUpdateUser(username: string, updatedUser: User) {\r\n    return this.http.post<User>(this.baseURL + \"user/update/\" + username, updatedUser);\r\n  }\r\n\r\n  getDiscussionComments(discussionID: string) {\r\n    return this.http.get(this.baseURL + \"forum/comments/\" + discussionID);\r\n  }\r\n\r\n  getCurrentDiscussion(discussionID: string) {\r\n    return this.http.get(this.baseURL + \"forum/discussion/\" + discussionID);\r\n  }\r\n\r\n  postComment(newComment: any) {\r\n    return this.http.post(this.baseURL + \"Forum/comment\", newComment);\r\n  }\r\n  followMovie(follower: string, follMovie: string) {\r\n    return this.http.post(this.baseURL + \"user/movie/\" + follower + \"/\" + follMovie, null);\r\n  }\r\n\r\n}\r\n","import { environment } from './../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UrlService {\r\n\r\n  UserAPIUrl: string = \"http://20.45.2.119/\";\r\n  ForumAPIUrl: string = \"http://20.45.6.142/\";\r\n  MovieAPIUrl: string = \"http://20.94.153.81/\";\r\n  AdminToolsAPIUrl: string = \"http://20.189.29.112/\";\r\n  AuthenticationAPIUrl: string = \"http://20.45.0.16/\";\r\n  FrontendUrl: string = \"http://20.94.137.143/\";\r\n  RecommendationsAPIUrl: string = \"http://20.189.28.203/\";\r\n  GroupsAPIUrl: string = \"http://20.45.0.67/\";\r\n  ReviewsAPIUrl: string = \"http://20.189.30.176/\";\r\n\r\n  constructor() {\r\n    if (environment.production) {\r\n      this.UserAPIUrl = \"http://20.45.2.119/\";\r\n      this.ForumAPIUrl = \"http://20.45.6.142/\";\r\n      this.MovieAPIUrl = \"http://20.94.153.81/\";\r\n      this.AdminToolsAPIUrl = \"http://20.189.29.112/\";\r\n      this.AuthenticationAPIUrl = \"http://20.45.0.16/\";\r\n      this.FrontendUrl = \"http://20.94.137.143/\";\r\n      this.RecommendationsAPIUrl = \"http://20.189.28.203/\";\r\n      this.GroupsAPIUrl = \"http://20.45.0.67/\";\r\n      this.ReviewsAPIUrl = \"http://20.189.30.176/\";\r\n    } else {\r\n      this.UserAPIUrl = \"https://localhost:5001/\";\r\n      this.ForumAPIUrl = \"https://localhost:5002/\";\r\n      this.MovieAPIUrl = \"https://localhost:5003/\";\r\n      this.AdminToolsAPIUrl = \"https://localhost:5004/\";\r\n      this.AuthenticationAPIUrl = \"https://localhost:5005/\";\r\n      this.FrontendUrl = \"http://localhost:4200/\";\r\n      this.RecommendationsAPIUrl = \"https://localhost:5007/\";\r\n      this.GroupsAPIUrl = \"https://localhost:5008/\";\r\n      this.ReviewsAPIUrl = \"https://localhost:5009/\";\r\n    }\r\n  }\r\n}\r\n","<p>all-users works!</p>\r\n\r\n<div *ngIf=\"users\">\r\n    <li *ngFor=\"let user of users\">\r\n        <a routerLink=\"/user/{{user.username}}\">{{ user.username }}</a>\r\n    </li>\r\n</div>","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { LoggerService } from '../logger.service';\r\n\r\n@Component({\r\n  selector: 'app-all-users',\r\n  templateUrl: './all-users.component.html',\r\n  styleUrls: ['./all-users.component.scss']\r\n})\r\nexport class AllUsersComponent implements OnInit {\r\n\r\n  users: any;\r\n  constructor(private http: HttpClient,\r\n    private logger: LoggerService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.http.get(\"https://cinephiliacsapi.azurewebsites.net/user/users\").subscribe(data => {\r\n      this.logger.log(\"\", data);\r\n      this.users = data;\r\n    });\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router'\r\nimport { HttpService } from '../http.service';\r\nimport { LoggerService } from '../logger.service';\r\n\r\n@Component({\r\n  selector: 'app-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.scss']\r\n})\r\nexport class ListComponent implements OnInit {\r\n  //object | undefined is what the example gave\r\n  movies: any = [];\r\n  searches: any;\r\n\r\n  movies2: any;\r\n  searches2: any;\r\n  searchTerm: any;\r\n  pageNum: any;\r\n  nextPg: any;\r\n  prevPg: any;\r\n\r\n  searchForm!: FormGroup;\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n    private router: ActivatedRoute, private _http: HttpService) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.searchForm = new FormGroup({\r\n      search: new FormControl('', Validators.minLength(2))\r\n    });\r\n\r\n    this.logger.log(\"\", this.router.snapshot.params);\r\n    this.searchTerm = this.router.snapshot.params.search;\r\n    this.pageNum = (this.router.snapshot.params.page - 1) * 2 + 1;\r\n    if (this.pageNum < 75) {\r\n      this.nextPg = parseInt(this.router.snapshot.params.page) + 1;\r\n    }\r\n    if (this.pageNum > 1) {\r\n      this.prevPg = this.router.snapshot.params.page - 1;\r\n    }\r\n    this._http.getMovies(this.searchTerm, this.pageNum).subscribe(data => {\r\n      this.movies = data;\r\n      this.searches = this.movies.Search;\r\n      this.logger.log(\"\", \"this is movies now just so you know\");\r\n      this.logger.log(\"\", this.movies.Search);\r\n\r\n    });\r\n    this._http.getMovies(this.searchTerm, (this.pageNum + 1)).subscribe(data => {\r\n      this.movies2 = data;\r\n\r\n      this.searches2 = this.movies2.Search;\r\n      this.logger.log(\"\", \"this is movies now just so you know\");\r\n      this.logger.log(\"\", this.movies2);\r\n    });\r\n\r\n  }\r\n  myNumber: number = 0;\r\n  myStrings: string = '';\r\n  function1(): void {\r\n    this.myNumber++;\r\n  }\r\n  function2(s1: string, s2: string): void {\r\n    this.myStrings = s1 + s2;\r\n  }\r\n  function3(myString: string): string {\r\n    return myString + myString;\r\n  }\r\n\r\n  increasePage() {\r\n    this.pageNum++;\r\n    return this.pageNum;\r\n  }\r\n\r\n  decreasePage() {\r\n    this.pageNum--;\r\n    return this.pageNum;\r\n  }\r\n  getPreviousPageNum() {\r\n    this.prevPg = this.pageNum - 1;\r\n    this.logger.log(\"\", this.prevPg);\r\n    return this.prevPg;\r\n  }\r\n\r\n  getNextPageNum() {\r\n    this.nextPg = this.pageNum + 1;\r\n    this.logger.log(\"\", this.nextPg);\r\n    return this.nextPg;\r\n  }\r\n\r\n  getPageNum() {\r\n    this.logger.log(\"\", \"PageNum\" + this.pageNum);\r\n    return this.pageNum;\r\n  }\r\n\r\n\r\n  getSearchTerm() {\r\n    this.logger.log(\"\", \"Search Term\" + this.searchTerm);\r\n    return this.searchTerm;\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.searchForm.get('search')!.value != \"\") {\r\n      let searchParam = JSON.stringify(this.searchForm.get('search')!.value).substring(1, JSON.stringify(this.searchForm.get('search')!.value).length - 1);\r\n      window.location.href = \"/list/\" + searchParam + \"/1\";\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"search\">\r\n    <form id=\"searchInput\" [formGroup]=\"searchForm\" (ngSubmit)=\"onSubmit()\">\r\n        <!-- svg source https://freesvg.org/vector-clip-art-of-minimal-design-search-icon -->\r\n        <svg xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:cc=\"http://creativecommons.org/ns#\" xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\" xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\" width=\"28.10632\" height=\"25\" viewBox=\"0 0 55.770032 124.72441\" id=\"svg4983\" version=\"1.1\" inkscape:version=\"0.91 r13725\" sodipodi:docname=\"Minimal Magnifying Glass.svg\">\r\n            <g inkscape:label=\"Layer 1\" inkscape:groupmode=\"layer\" id=\"layer1\" transform=\"translate(64.082039,-216.03793)\">\r\n            <g id=\"g4288\" transform=\"matrix(12.843054,0,0,12.843054,-4352.973,-5791.3727)\" style=\"fill:none;stroke:grey;stroke-width:1.5;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\">\r\n                <circle r=\"3.625\" cy=\"472.13062\" cx=\"335.03351\" id=\"path4284\" style=\"color:grey;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation-filters:linearRGB;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#393939;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\"/>\r\n                <path sodipodi:nodetypes=\"cc\" inkscape:connector-curvature=\"0\" id=\"path4286\" d=\"m 337.9085,474.44313 2.90967,2.26732\" style=\"color:grey;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation-filters:linearRGB;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#393939;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\"/>\r\n            </g>\r\n            </g>\r\n        </svg>\r\n        <input type=\"text\" id=\"pgSearch\" name=\"pgSearch\" formControlName=\"search\">\r\n    </form>\r\n    <div class=\"filters\">\r\n    </div>\r\n</div>\r\n \r\n<h1>Results for \"{{searchTerm}}\"</h1>\r\n<ul *ngIf=\"searches\">\r\n    <li *ngFor=\"let search of searches\">\r\n        <div class=\"image\">\r\n            <img src=\"{{search.Poster}}\" routerLink=\"/movie/{{search.imdbID}}\" alt=\"Movie Poster\">\r\n        </div>\r\n        <p class=\"name\">{{ search.Title }}</p>\r\n        <p class=\"year\">{{ search.Year }}<span *ngIf=\"search.Year.substring(search.Year.length - 1)==''\">present</span></p>\r\n        <p class=\"id\">{{ search.imdbID }}</p>\r\n    </li>\r\n</ul>\r\n<ul *ngIf=\"searches2\">\r\n    <li *ngFor=\"let search of searches2\">\r\n        <div class=\"image\">\r\n            <img src=\"{{search.Poster}}\" routerLink=\"/movie/{{search.imdbID}}\" alt=\"Movie Poster\">\r\n        </div>\r\n        <p class=\"name\">{{ search.Title }}</p>\r\n        <p class=\"year\">{{ search.Year }}<span *ngIf=\"search.Year.substring(search.Year.length - 1)==''\">present</span></p>\r\n        <p class=\"id\">{{ search.imdbID }}</p>\r\n    </li>\r\n</ul>\r\n\r\n<div class=\"pages\">\r\n    <a href=\"/list/{{searchTerm}}/{{prevPg}}\" class=\"prev\" *ngIf=\"prevPg>0\">Previous Page</a>\r\n    <a href=\"/list/{{searchTerm}}/{{nextPg}}\" class=\"next\" *ngIf=\"nextPg<76\">Next Page</a>\r\n</div>\r\n\r\n\r\n\r\n\r\n","import { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AllUsersComponent } from './all-users/all-users.component';\r\nimport { DiscussionComponent } from './discussion/discussion.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { InterceptorService } from './interceptor.service';\r\nimport { ListComponent } from './list/list.component';\r\nimport { MovieComponent } from './movie/movie.component';\r\nimport { UserComponent } from './user/user.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: HomeComponent },\r\n  { path: 'list/:search/:page', component: ListComponent },\r\n  { path: 'movie/:id', component: MovieComponent },\r\n  { path: 'alluser', component: AllUsersComponent },\r\n  { path: 'user/:username', component: UserComponent },\r\n  { path: 'discussion/:id', component: DiscussionComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: InterceptorService,\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class AppRoutingModule { }\r\n","<div *ngIf=\"selectedMovie\" class=\"movieinfo\">\r\n    <h1>{{ selectedMovie.Title }}</h1>\r\n    <div *ngIf=\"user\">\r\n      <div *ngIf=\"movieFollowed then thenFBlock else elseFBlock\"></div>\r\n      <ng-template #thenFBlock>\r\n        <button class=\"deactived\">Following Movie</button>\r\n      </ng-template>\r\n      <ng-template #elseFBlock>\r\n        <button (click)=\"followMovie()\">Follow Movie</button>\r\n      </ng-template>\r\n    </div>\r\n\r\n    <ul>\r\n        <li>\r\n            <img src=\"{{selectedMovie.Poster}}\" alt=\"Movie Poster\">\r\n            <div class=\"information\">\r\n                <p class=\"name\"><strong>Title:</strong> {{ selectedMovie.Title }}</p>\r\n                <p *ngIf=\"reviews.length > 0\" class=\"reviewscore\"><strong>User Review Score: </strong>{{ reviewScore.toFixed(1) }}</p>\r\n                <p class=\"year\"><strong>Year(s):</strong> {{ selectedMovie.Year }}<span *ngIf=\"selectedMovie.Year.substring(selectedMovie.Year.length - 1)==''\">present</span></p>\r\n                <p class=\"date\"><strong>Release Date:</strong> {{ selectedMovie.Released }}</p>\r\n                <p class=\"runtime\"><strong>Runtime:</strong> {{ selectedMovie.Runtime }}</p>\r\n                <p class=\"genre\"><strong>Genre:</strong> {{ selectedMovie.Genre }}</p>\r\n                <p class=\"directors\"><strong>Director(s):</strong> {{ selectedMovie.Director }}</p>\r\n                <p class=\"writers\"><strong>Writer(s):</strong> {{ selectedMovie.Writer }}</p>\r\n                <p class=\"actors\"><strong>Actors:</strong> {{ selectedMovie.Actors }}</p>\r\n                <p class=\"awards\"><strong>Awards:</strong> {{ selectedMovie.Awards }}</p>\r\n                <p class=\"plot\"><strong>Plot Summary:</strong> {{ selectedMovie.Plot }}</p>\r\n                <!-- <p class=\"id\">{{ selectedMovie.imdbID }}</p> -->\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n<div class=\"left\">\r\n    <h3>Reviews</h3>\r\n    <div *ngIf=\"(reviews.length > 0) then thenRBlock else elseRBlock\"></div>\r\n    <ng-template #thenRBlock>\r\n      <span>Sort By: </span>\r\n      <span class=\"sort\" (click)=\"timeSortNext()\" [class.selected]=\"timeActive\">{{timeSortString}}</span>\r\n      <span class=\"sort lastchild\" (click)=\"ratingSortNext()\" [class.selected]=\"ratingActive\">{{ratingSortString}}</span>\r\n      <ul>\r\n          <li *ngFor=\"let review of reviews\">\r\n              <p class=\"rating\">{{ review.rating}}</p>\r\n              <u routerLink =\"/user/{{review.username}}\" class=\"username\">{{ review.username}}</u>\r\n              <p >{{ review.text}}</p>\r\n\r\n          </li>\r\n      </ul>\r\n      <button *ngIf=\"!lastPage\" (click)=\"loadNextPage()\">More Reviews</button>\r\n    </ng-template>\r\n    <ng-template #elseRBlock>\r\n      <span>This movie has not be reviewed</span>\r\n    </ng-template>\r\n\r\n    <div *ngIf=\"user\" id=\"review\">\r\n        <h4>New Review</h4>\r\n        <form>\r\n            <label>Rating:</label><br>\r\n            <select name=\"rating\" id=\"rating\" [(ngModel)]=\"sumbitReview.rating\" [ngModelOptions]=\"{standalone: true}\">\r\n                <option selected hidden disabled></option>\r\n                <option value=\"1\">1</option>\r\n                <option value=\"1.5\">1.5</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"2.5\">2.5</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"3.5\">3.5</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"4.5\">4.5</option>\r\n                <option value=\"5\">5</option>\r\n            </select><br>\r\n            <label>Review Text:</label><br>\r\n            <input type=\"text\" [(ngModel)]=\"sumbitReview.text\" [ngModelOptions]=\"{standalone: true}\"><br>\r\n            <button type=\"reset\"  (click)=\"postReview()\">Submit Review</button>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"right\">\r\n\r\n  <h3>Recent Discussions</h3>\r\n  <div *ngIf=\"discussions then thenDBlock else elseDBlock\"></div>\r\n  <ng-template #thenDBlock>\r\n    <ul>\r\n        <li *ngFor=\"let discussion of discussions\">\r\n            <!-- <p >{{ discussion.discussionid}}</p> -->\r\n            <u routerLink=\"/discussion/{{discussion.discussionid}}\">{{discussion.subject}}</u>\r\n            <span *ngIf=\"discussion.topic != 'None'\">{{discussion.topic}}</span>\r\n        </li>\r\n    </ul>\r\n  </ng-template>\r\n  <ng-template #elseDBlock>\r\n    <span>There are no discussions for this movie</span>\r\n  </ng-template>\r\n\r\n    <div *ngIf=\"user\" id=\"discussion\">\r\n        <h4>New Discussion</h4>\r\n        <form>\r\n            <label>Topic: </label><br>\r\n            <select name=\"rating\" id=\"rating\" [(ngModel)]=\"submitDiscussion.topic\" [ngModelOptions]=\"{standalone: true}\">\r\n                <option selected hidden disabled></option>\r\n                <option *ngFor=\"let topic of topics\"\r\n                        [value]=\"topic\">\r\n                        {{topic}}\r\n                </option>\r\n            </select><br>\r\n            <label>Discussion Subject:</label><br>\r\n            <input type=\"text\" [(ngModel)]=\"submitDiscussion.subject\" [ngModelOptions]=\"{standalone: true}\"><br>\r\n            <button type=\"reset\" (click)=\"postDiscussion()\">Submit Discussion</button>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { analyzeAndValidateNgModules } from '@angular/compiler';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpService } from '../http.service';\r\nimport { LoggerService } from '../logger.service';\r\nimport { LoginService } from '../login.service';\r\nimport { Review } from '../models';\r\n\r\ninterface SubmiteReview {\r\n  rating: number,\r\n  movieid: string,\r\n  username: string,\r\n  text: string\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-movie',\r\n  templateUrl: './movie.component.html',\r\n  styleUrls: ['./movie.component.scss']\r\n})\r\nexport class MovieComponent implements OnInit {\r\n\r\n  reviewScoreSum: number = 0;\r\n  reviewScore: number = 0;\r\n  selectedMovie: any;\r\n  movieID: any;\r\n  discussions: any;\r\n  reviews: Review[] = [];\r\n  input: any;\r\n  user: any;\r\n  movieFollowed: boolean = false;\r\n\r\n  reviewPage: number = 1;\r\n  reviewSortOrder: string = \"timedsc\";\r\n\r\n  timeSortState: number = 0;\r\n  timeSortString: string = \"Newest\";\r\n  ratingSortState: number = 0;\r\n  ratingSortString: string = \"Rating \\u21D5\";\r\n  ratingActive: boolean = false;\r\n  timeActive: boolean = true;\r\n  reviewsBusy: boolean = false;\r\n  lastPage: boolean = false;\r\n\r\n  sumbitReview: SubmiteReview = {\r\n    rating: 0,\r\n    movieid: this.router.snapshot.params.id,\r\n    username: \"0\",\r\n    text: \"\"\r\n  }\r\n\r\n  submitDiscussion: any = {\r\n    movieid: this.router.snapshot.params.id,\r\n    topic: \"\",\r\n    username: \"\",\r\n    subject: \"\"\r\n  }\r\n\r\n  topics: any;\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n    private router: ActivatedRoute, private _http: HttpService, private _login: LoginService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.logger.log(\"\", this.router.snapshot.params);\r\n    this.inputFields();\r\n    this._login.getTopics().subscribe(data => {\r\n      this.logger.log(\"\", data);\r\n      this.topics = data;\r\n    });\r\n\r\n    //will get the details of the movie from the IMDB API\r\n    this.movieID = this.router.snapshot.params.id;\r\n    this._http.getMovie(this.movieID).subscribe(data => {\r\n      this.selectedMovie = data;\r\n      this.logger.log(\"\", \"this is movies now just so you know\");\r\n      this.logger.log(\"\", this.selectedMovie);\r\n    });\r\n\r\n    //Will get the discussions for the movie\r\n    this.showDiscussion();\r\n\r\n    //Movie Reviews\r\n    this.loadReviews(this.reviewPage);\r\n    if (this.user) {\r\n      this._login.getUserMovies(JSON.parse(this.user).username).subscribe((usersMovieNames: string[]) => {\r\n        if (typeof usersMovieNames.find(m => m == this.movieID) === 'undefined') {\r\n          this.movieFollowed = false;\r\n        }\r\n        else {\r\n          this.movieFollowed = true;\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      this.logger.log(\"\", \"user isn't set\");\r\n    }\r\n\r\n    //saving a reference to the database of movies interacted with\r\n    this._login.postMovieId(this.movieID).subscribe(data => this.logger.log(\"\", \"submitted\"));\r\n  }\r\n\r\n  loadReviews(page: number) {\r\n    this._login.getReviewsPage(this.movieID, page, this.reviewSortOrder)\r\n      .subscribe((data: Review[]) => {\r\n        if (data.length == 0) {\r\n          this.lastPage = true;\r\n          this.reviewPage = page - 1;\r\n        }\r\n        else {\r\n          data.forEach((review: Review) => {\r\n            this.logger.log(\"\", review);\r\n            this.reviews.push(review);\r\n            this.reviewScoreSum += Number(review.rating);\r\n          });\r\n          this.reviewScore = this.reviewScoreSum / this.reviews.length;\r\n          this.logger.log(\"\", this.reviewScore);\r\n          this.reviewsBusy = false;\r\n        }\r\n      }, error => {\r\n        this.lastPage = true;\r\n        this.reviewPage = page - 1;\r\n        this.reviewsBusy = false;\r\n      });\r\n  }\r\n\r\n  loadNextPage() {\r\n    if (!this.lastPage && !this.reviewsBusy) {\r\n      this.reviewsBusy = true;\r\n      this.lastPage = true;\r\n      this.reviewPage += 1;\r\n      this.loadReviews(this.reviewPage);\r\n    }\r\n  }\r\n\r\n  timeSortNext() {\r\n    if (!this.reviewsBusy) {\r\n      this.reviewsBusy = true;\r\n      switch (this.timeSortState) {\r\n        case 0:\r\n          this.timeSortState = 1;\r\n          this.timeSortString = \"Oldest\";\r\n          this.ratingSortState = 0;\r\n          this.ratingSortString = \"Rating \\u21D5\";\r\n          this.changeReviewSortOrder(\"timeasc\");\r\n          break;\r\n        case 1:\r\n          this.timeSortState = 2;\r\n          this.timeSortString = \"Newest\";\r\n          this.ratingSortState = 0;\r\n          this.ratingSortString = \"Rating \\u21D5\";\r\n          this.changeReviewSortOrder(\"timedsc\");\r\n          break;\r\n        case 2:\r\n          this.timeSortState = 1;\r\n          this.timeSortString = \"Oldest\";\r\n          this.ratingSortState = 0;\r\n          this.ratingSortString = \"Rating \\u21D5\";\r\n          this.changeReviewSortOrder(\"timeasc\");\r\n          break;\r\n      }\r\n      this.ratingActive = false;\r\n      this.timeActive = true;\r\n    }\r\n  }\r\n\r\n  ratingSortNext() {\r\n    if (!this.reviewsBusy) {\r\n      this.reviewsBusy = true;\r\n      switch (this.ratingSortState) {\r\n        case 0:\r\n          this.ratingSortState = 1;\r\n          this.ratingSortString = \"Rating \\u21D1\";\r\n          this.timeSortState = 0;\r\n          this.timeSortString = \"Time \\u21D5\";\r\n          this.changeReviewSortOrder(\"ratingasc\");\r\n          break;\r\n        case 1:\r\n          this.ratingSortState = 2;\r\n          this.ratingSortString = \"Rating \\u21D3\";\r\n          this.timeSortState = 0;\r\n          this.timeSortString = \"Time \\u21D5\";\r\n          this.changeReviewSortOrder(\"ratingdsc\");\r\n          break;\r\n        case 2:\r\n          this.ratingSortState = 1;\r\n          this.ratingSortString = \"Rating \\u21D1\";\r\n          this.timeSortState = 0;\r\n          this.timeSortString = \"Time \\u21D5\";\r\n          this.changeReviewSortOrder(\"ratingasc\");\r\n          break;\r\n      }\r\n      this.timeActive = false;\r\n      this.ratingActive = true;\r\n    }\r\n  }\r\n\r\n  changeReviewSortOrder(sortOrder: string) {\r\n    if (sortOrder == \"ratingasc\" || sortOrder == \"ratingdsc\"\r\n      || sortOrder == \"timeasc\" || sortOrder == \"timedsc\") {\r\n      this.reviews = [];\r\n      this.reviewScoreSum = 0;\r\n      this.reviewSortOrder = sortOrder;\r\n      this.reloadReviews(false);\r\n    }\r\n  }\r\n\r\n  reloadReviews(loadNew: boolean) {\r\n    if (loadNew) {\r\n      this.reviews = [];\r\n      this.reviewPage += 1;\r\n    }\r\n    for (let pageCounter: number = 1; pageCounter <= this.reviewPage; pageCounter++) {\r\n      setTimeout(() => { this.loadReviews(pageCounter); }, 300 * pageCounter);\r\n    }\r\n  }\r\n\r\n  async showDiscussion() {\r\n    setTimeout(() => {\r\n      this._login.getDiscussion(this.movieID).subscribe(data => {\r\n        this.logger.log(\"\", data);\r\n        this.discussions = data;\r\n      });\r\n    }, 2000);\r\n  }\r\n\r\n  followMovie() {\r\n    if (this.user) {\r\n      this._login.followMovie(JSON.parse(this.user).username, this.movieID).subscribe(data => {\r\n        this.movieFollowed = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  postDiscussion() {\r\n    if (this.submitDiscussion.topic == \"\" || this.submitDiscussion.subject == \"\") {\r\n      this.logger.log(\"\", \"didn't submit discussion\");\r\n    } else if (this.submitDiscussion.subject.length >= 250) {\r\n      alert(\"Discussion should be less than 250 Characters\")\r\n    } else {\r\n\r\n      this._login.submitDiscussion(this.submitDiscussion).subscribe(data => this.logger.log(\"\", data));\r\n      this.showDiscussion();\r\n    }\r\n    this.logger.log(\"\", this.submitDiscussion);\r\n  }\r\n\r\n  postReview() {\r\n    if (this.sumbitReview.rating == 0 || this.sumbitReview.text == \"\") {\r\n      this.logger.log(\"\", \"Review Not Sumbitted\");\r\n    } else if (this.sumbitReview.text.length >= 250) {\r\n      alert(\"Reviews should be less than 250 Characters\")\r\n    } else {\r\n      this._login.postReview(this.sumbitReview).subscribe(data => this.logger.log(\"\", data));\r\n      this.lastPage = false;\r\n      this.reloadReviews(true);\r\n    }\r\n    this.logger.log(\"\", this.sumbitReview);\r\n  }\r\n\r\n  inputFields() {\r\n    if (localStorage.getItem(\"loggedin\")) {\r\n      this.logger.log(\"\", \"userset\");\r\n      this.user = localStorage.getItem(\"loggedin\")\r\n\r\n      this.logger.log(\"\", JSON.parse(this.user).username + \"USER\");\r\n      this.logger.log(\"\", this.user);\r\n      this.submitDiscussion.username = JSON.parse(this.user).username;\r\n      this.sumbitReview.username = JSON.parse(this.user).username;\r\n      this.logger.log(\"\", this.sumbitReview);\r\n\r\n    } else {\r\n\r\n      this.logger.log(\"\", \"no User\");\r\n    }\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { LoggerService } from '../logger.service';\r\nimport { LoginService } from '../login.service';\r\nimport { User } from '../models';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  @Input() currentUser: User = {\r\n    username: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    permissions: 1\r\n  }\r\n  @Output() currentUserChange = new EventEmitter<User>();\r\n\r\n  userName: string = \"\";\r\n  password: string = \"\";\r\n  passwordNotOk: any = false;\r\n\r\n  isLoginPage: boolean = true;\r\n\r\n  newUser: any = {\r\n    username: '',\r\n    firstname: '',\r\n    lastname: '',\r\n    email: '',\r\n    permissions: 1\r\n  }\r\n\r\n  constructor(\r\n    private logger: LoggerService,\r\n    private _login: LoginService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  login() {\r\n    this.logger.log(\"\", \"Login attempt\" + this.userName);\r\n    this._login.loginUser(this.userName).subscribe((data: User) => {\r\n      this.logger.log(\"\", data);\r\n      if (data.lastname == this.password) {\r\n        this.passwordNotOk = false;\r\n        this.currentUser = data;\r\n      }\r\n      else {\r\n        this.passwordNotOk = true;\r\n        setTimeout(() => {\r\n          this.passwordNotOk = false;\r\n        }, 3000);\r\n      }\r\n      this.logger.log(\"\", this.currentUser.username);\r\n      this.currentUserChange.emit(this.currentUser);\r\n      localStorage.setItem(\"loggedin\", JSON.stringify(this.currentUser));\r\n      return data;\r\n    });\r\n  }\r\n\r\n  createUser() {\r\n    this.logger.log(\"\", \"In Create\");\r\n    if (!this.newUser.firstname || !this.newUser.lastname || !this.newUser.username || !this.newUser.email) {\r\n      this.logger.log(\"\", \"Please fill in all data\")\r\n    }\r\n    else {\r\n      this.logger.log(\"\", JSON.stringify(this.newUser));\r\n      this._login.createUser(this.newUser).subscribe(data => {\r\n        this.logger.log(\"\", data);\r\n        this.currentUser = this.newUser;\r\n        this.userName = this.currentUser.username;\r\n        this.password = this.currentUser.lastname;\r\n        this.login();\r\n      });\r\n    }\r\n  }\r\n\r\n  getUserName() {\r\n    this.logger.log(\"\", this.userName);\r\n    return this.userName;\r\n  }\r\n\r\n\r\n  isPasswordRigt(pass: string) {\r\n    this.logger.log(\"\", \"Checking\");\r\n    return (pass == this.password);\r\n  }\r\n\r\n  switchToRegister(): void {\r\n    this.isLoginPage = false;\r\n  }\r\n\r\n  backToLogin(): void {\r\n    this.isLoginPage = true;\r\n  }\r\n}\r\n","<div *ngIf=\"isLoginPage; then thenBlock else elseBlock\"></div>\r\n<ng-template #thenBlock>\r\n  <form>\r\n    <div class=\"container\" (ngSubmit)=\"login()\">\r\n        <h2>Log In</h2>\r\n        <label for=\"uname\">Username:</label><br>\r\n        <input type=\"text\" placeholder=\"Enter Username\" [(ngModel)]=\"userName\" [ngModelOptions]=\"{standalone: true}\" required>\r\n        <br>\r\n        <label for=\"pword\">Password:</label><br>\r\n        <input type=\"password\" placeholder=\"Enter Password\" [(ngModel)]=\"password\" [ngModelOptions]=\"{standalone: true}\" required>\r\n        <p *ngIf=\"passwordNotOk\" id=\"pwcheck\">Incorrect Password</p>\r\n        <br>\r\n        <button (click)=\"login()\">Login</button><br>\r\n        <a (click)=\"switchToRegister()\">Create an Account</a>\r\n    </div>\r\n  </form>\r\n</ng-template>\r\n<ng-template #elseBlock>\r\n  <form class=\"registerform\">\r\n    <div class=\"container\" (ngSubmit)=\"createUser()\">\r\n      <h2>Register</h2>\r\n      <label for=\"uname\">Username:</label><br>\r\n      <input type=\"text\" placeholder=\"Enter Username\" [(ngModel)]=\"newUser.username\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n      <label for=\"uname\">Password:</label><br>\r\n      <input type=\"text\" placeholder=\"Enter Password\" required><br>\r\n      <label for=\"uname\">First Name:</label><br>\r\n      <input type=\"text\" placeholder=\"Enter First Name\" [(ngModel)]=\"newUser.firstname\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n      <label for=\"uname\">Last Name:</label><br>\r\n      <input type=\"text\" placeholder=\"Enter Last Name\" [(ngModel)]=\"newUser.lastname\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n      <label for=\"uname\">Email:</label><br>\r\n      <input type=\"text\" placeholder=\"Enter Email Address\" [(ngModel)]=\"newUser.email\" [ngModelOptions]=\"{standalone: true}\" required><br>\r\n      <button (click)=\"createUser()\">Register</button><br>\r\n      <a (click)=\"backToLogin()\">Return to Login</a>\r\n    </div>\r\n  </form>\r\n</ng-template>\r\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpService } from './http.service';\r\nimport { AppComponent } from './app.component';\r\nimport { User, Review, Discussion, Comment } from './models';\r\nimport { UrlService } from './url.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  // baseURL: string = \"https://localhost:5001/user\";\r\n  baseURL: string = \"\";\r\n\r\n  constructor(private http: HttpClient, private urlService: UrlService) {\r\n    this.baseURL = urlService.UserAPIUrl + \"user\";\r\n  }\r\n\r\n  getUser(userid: string): Promise<any> {\r\n    return this.http.get(this.baseURL + `/${userid}`).toPromise();\r\n  }\r\n\r\n  isAdmin(userid: string): Promise<any> {\r\n    return this.http.get(this.baseURL + `/isadmin`).toPromise();\r\n  }\r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}